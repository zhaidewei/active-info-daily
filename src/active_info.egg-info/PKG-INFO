Metadata-Version: 2.4
Name: active-info
Version: 0.1.0
Summary: Active information aggregation for AI/IT opportunities
Requires-Python: >=3.9
Description-Content-Type: text/markdown
Requires-Dist: apscheduler>=3.10.4
Requires-Dist: fastapi>=0.115.0
Requires-Dist: feedparser>=6.0.11
Requires-Dist: jinja2>=3.1.4
Requires-Dist: markdown>=3.7
Requires-Dist: openai>=1.51.0
Requires-Dist: pydantic>=2.9.0
Requires-Dist: pydantic-settings>=2.5.2
Requires-Dist: python-dateutil>=2.9.0
Requires-Dist: pyyaml>=6.0.2
Requires-Dist: requests>=2.32.3
Requires-Dist: typer>=0.12.5
Requires-Dist: uvicorn>=0.31.0

# 主动信息聚合（Active Info）

一个本机运行的主动信息聚合系统，目标是避免被动算法推送，面向以下三类结论：

1. IT / AI 行业重大突破
2. 具备股票投资价值的积极信号
3. 被忽视的趋势信号

## 当前阶段（Phase 2 baseline）

已实现：
- 多源抓取：`RSS`、`Twitter RSS (Nitter)`、`Polymarket`
- 财报接入：`SEC Filings`（按 ticker 拉取 `10-Q/10-K/8-K`）
- 成本控制：默认规则分析，支持切换到 OpenAI API
- LLM 友好抓取：支持通过 `r.jina.ai` 获取正文摘要（可关闭）
- 事件去重：URL + 标题近似匹配去重
- 趋势共振：按主题频次和跨源共振给高潜信号加分
- 正向偏置：负面事件词（fraud/lawsuit/layoff 等）降权
- 日报生成：Markdown + JSON
- 报告扩展：数据质量、趋势共振、财报雷达（SEC）
- Web 渲染：按 Markdown 格式渲染（非原始纯文本）
- 双语报告：自动输出中文/英文版本（LLM 翻译）
- 历史保存：SQLite + `data/reports/` 文件
- Web 查看：本地网页浏览历史报告
- 定时执行：每日定时任务

未实现（在 backlog 中）：
- 财报电话会议 transcript 接入
- 趋势评分回测
- 用户偏好反馈回路
- 多模型 ensemble

## 重要说明（关于 ChatGPT 订阅额度）

`ChatGPT Plus/Team` 的网页订阅额度不能直接当作 API 配额使用。
如果要自动化调用，需要 `OpenAI API key`（按 API 计费）。
本项目默认 `heuristic` 模式零 API 成本，后续可接入本地模型（如 Ollama）进一步降本。

## 快速开始

```bash
cd /Users/zhaidewei/learn/active_info
python3 -m venv .venv
source .venv/bin/activate
pip install -e .
cp .env.example .env
```

如需启用 OpenAI 分析：

```bash
# 编辑 .env
ANALYSIS_PROVIDER=openai
OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4o-mini
```

如需启用 DeepSeek 分析：

```bash
# 编辑 .env
ANALYSIS_PROVIDER=deepseek
DEEPSEEK_API_KEY=sk-...
DEEPSEEK_MODEL=deepseek-chat
DEEPSEEK_BASE_URL=https://api.deepseek.com
TRANSLATION_ENABLED=true
TRANSLATION_MAX_CHARS=14000
```

## 运行

1) 生成一次报告

```bash
active-info run-once
```

2) 启动本地网页

```bash
active-info serve --host 127.0.0.1 --port 8000
# 打开 http://127.0.0.1:8000
```

3) 启动定时任务（每天 08:30）

```bash
active-info scheduler --daily-at 08:30
```

## 项目结构

```text
config/sources.yaml        # 数据源配置
src/active_info/           # 应用代码
docs/ARCHITECTURE.md       # 架构文档
docs/BACKLOG.md            # 需求和分阶段 backlog
docs/WORKLOG.md            # 开发日志
data/reports/              # 历史报告（保留）
```

## 定制数据源

编辑 `config/sources.yaml`：
- `rss`: 普通 RSS
- `twitter_rss`: 任何可用 Twitter RSS 源
- `polymarket`: 开关、抓取条数和最小成交量
- `sec_filings`: ticker 列表和表单类型（`10-Q/10-K/8-K`）

`sec_filings.user_agent` 建议改成你的可联系标识（例如 `your-org your-email@example.com`），避免 SEC 限流。
